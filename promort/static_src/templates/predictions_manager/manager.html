<div class="container_fluid">
    <!--
      ~ Copyright (c) 2021, CRS4
      ~
      ~ Permission is hereby granted, free of charge, to any person obtaining a copy of
      ~ this software and associated documentation files (the "Software"), to deal in
      ~ the Software without restriction, including without limitation the rights to
      ~ use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
      ~ the Software, and to permit persons to whom the Software is furnished to do so,
      ~ subject to the following conditions:
      ~
      ~ The above copyright notice and this permission notice shall be included in all
      ~ copies or substantial portions of the Software.
      ~
      ~ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
      ~ IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
      ~ FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
      ~ COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
      ~ IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
      ~ CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
      -->
    <div id="pg_header" class="page-header prm-no-margin-top prm-lateral_margin">
        <div class="col-sm-8 text-left prm-valign">
            <h1>Prediction review</h1>
        </div>
    </div>
    <div id="pg_body" class="col-sm-12">
        <div id="hm_viewer_ctrl" class="col-sm-3 col-md-3">
            <viewer-navigation-panel></viewer-navigation-panel>
            <div class="prm-form-header">
                <h4 class="text-left">Overlay Controls</h4>
            </div>
            <div id="hm_ctrl" class="well" style="background-color:white">
                <fieldset class="hm-palette">
                    <div class="form-group row text-center">
                        <div class="col-sm-6 prm-label-elem text-right">
                            <h4 for="hm-palette">COLOR PALETTE</h4>
                        </div>
                        <div class="col-sm-6 prm-form-elem">
                            <select class="form-control prm-text-input" id="palette_ctrl"
                                    ng-model="pmc.overlay_palette"
                                    ng-change="pmc.updateOverlayPalette()">
                                <option value="Greens_9" selected>Green (10 values)</option>
                                <option value="Blues_9">Blue (10 values)</option>
                                <option value="Reds_9">Red (10 values)</option>
                            </select>
                        </div>
                    </dev>
                </fieldset>
                <div class="form-group row text-center" style="margin-top:20px; margin-bottom:0px;">
                    <div class="col-sm-6 prm-label-elem text-right">
                        <h4>OPACITY</h4>
                    </div>
                    <div class="col-sm-3 text-left prm-form-elem">
                        <div class="input-group">
                            <input class="form-control prm-text-input" type="number" readonly
                                   ng-model="pmc.oo_percentage">
                            <div class="input-group-addon prm-addon">%</div>
                        </div>
                    </div>
                </div>
                <div id="opacity_ctrl" class="input-group prm-row-elem prm-range-selector">
                    <div class="input-group-addon prm-range-label">0</div>
                    <input type="range" min="0.0" max="1.0" step="0.01"
                           ng-model="pmc.overlay_opacity"
                           ng-change="pmc.updateOverlayOpacity()" />
                    <div class="input-group-addon prm-range-label">100</div>
                </div>
                <div class="form-group row text-center" style="margin-top:30px; margin-bottom:0px;">
                    <div class="col-sm-6 prm-label-elem text-right">
                        <h4>THRESHOLD</h4>
                    </div>
                    <div class="col-sm-3 text-left prm-form-elem">
                        <div class="input-group">
                            <input class="form-control prm-text-input" type="number" readonly
                                   ng-model="pmc.ot_percentage">
                            <div class="input-group-addon prm-addon">%</div>
                        </div>
                    </div>
                </div>
                <div id="threshodl_ctrl" class="input-group prm-row-elem prm-range-selector">
                    <div class="input-group-addon prm-range-label">0</div>
                    <input type="range" min="0.0" max="1.0" step="0.1" 
                           ng-model="pmc.overlay_threshold"
                           ng-mouseup="pmc.updateOverlayThreshold()"
                           ng-change="pmc.updateOverlayThresholdPercentage()" />
                    <div class="input-group-addon prm-range-label">100</div>
                </div>
                <div class="row" ng-hide="!pmc.isThresholdUpdate()">
                    <div class="col-sm-offset-2 col-sm-8 well">
                        <h3 class="text-center" style="margin-top:0px;">
                            <i class="icon-information_black"></i>
                        </h3>
                        <p class="text-center">Release the mouse to confirm threshold value</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-9 col-md-9">
            <div id="viewer_container" class="prm-viewer_frame well">
                <simple-heatmap-viewer slide_id="{{ pmc.slide_id }}" prediction_id="{{ pmc.prediction_id }}"></simple-heatmap-viewer>
            </div>
        </div>
    </div>
</div>