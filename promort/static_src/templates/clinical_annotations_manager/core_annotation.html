<div>
    <!--
      ~ Copyright (c) 2019, CRS4
      ~
      ~ Permission is hereby granted, free of charge, to any person obtaining a copy of
      ~ this software and associated documentation files (the "Software"), to deal in
      ~ the Software without restriction, including without limitation the rights to
      ~ use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
      ~ the Software, and to permit persons to whom the Software is furnished to do so,
      ~ subject to the following conditions:
      ~
      ~ The above copyright notice and this permission notice shall be included in all
      ~ copies or substantial portions of the Software.
      ~
      ~ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
      ~ IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
      ~ FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
      ~ COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
      ~ IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
      ~ CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
      -->
    <div class="prm-form-header">
        <h4 class="text-right">{{ cmCtrl.core_label }}</h4>
    </div>
    <div class="form-group row">
        <div class="prm-label-elem">
            <label>Core area</label>
        </div>
        <div class="input-group prm-row-elem">
            <input class="form-control prm-text-input" type="number" ng-model="cmCtrl.scaledCoreArea"
                   readonly>
            <select ng-model="cmCtrl.coreAreaScaleFactor"
                    ng-options="x.unit_of_measure for x in cmCtrl.areaUOM"
                    ng-change="cmCtrl.updateCoreArea()"
                    required class="selectpicker"></select>
        </div>
    </div>
    <div class="form-group row">
        <div class="prm-label-elem">
            <label>Core length</label>
        </div>
        <div class="input-group prm-row-elem">
            <input class="form-control prm-text-input" type="number" ng-model="cmCtrl.scaledCoreLength"
                   readonly>
            <select ng-model="cmCtrl.coreLengthScaleFactor"
                    ng-options="x.unit_of_measure for x in cmCtrl.lengthUOM"
                    ng-change="cmCtrl.updateCoreLength()"
                    required class="selectpicker"></select>
        </div>
    </div>
    <div class="form-group row">
        <div class="prm-label-elem">
            <label>Tumor length</label>
        </div>
        <div class="input-group prm-row-elem">
            <input class="form-control prm-text-input" type="number" readonly placeholder="0.00"
                   ng-model="cmCtrl.scaledTumorLength">
            <select ng-model="cmCtrl.tumorLengthScaleFactor"
                    ng-options="x.unit_of_measure for x in cmCtrl.lengthUOM"
                    ng-change="cmCtrl.updateTumorLength()"
                    required class="selectpicker"></select>
        </div>
    </div>
    <div class="form-group row" ng-show="cmCtrl.isReadOnly()">
        <div class="col-sm-6 prm-valign prm-label-elem">
            <label>Normal tissue</label>
        </div><!--
     --><div class="col-sm-6 prm-valign prm-form-elem">
            <div class="input-group">
                <input class="form-control prm-text-input" type="number"
                       ng-model="cmCtrl.normalTissuePercentage" readonly>
                <div class="input-group-addon prm-addon">%</div>
            </div>
        </div>
    </div>
    <fieldset ng-hide="cmCtrl.isLocked()">
        <legend class="prm-legend text-left">gleason grading</legend>
        <div class="form-group row">
            <div class="col-sm-6 prm-valign prm-label-elem">
                <label>Gleason score</label>
            </div><!--
         --><div class="col-sm-6 prm-valign prm-form-elem">
                <input class="form-control prm-text-input" ng-model="cmCtrl.gleasonScore" readonly>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-6 prm-valign prm-label-elem">
                <label>Grade group WHO </label>
            </div><!--
         --><div class="col-sm-6 prm-valign prm-form-elem">
                <input class="form-control prm-text-input" ng-model="cmCtrl.gradeGroupWhoLabel"
                       readonly placeholder="">
            </div>
        </div>
    </fieldset>
    <fieldset>
        <legend class="prm-legend text-left">gleason pattern details</legend>
        <div class="form-group row">
            <div class="prm-label-elem">
                <label>Gleason Pattern 3</label>
            </div>
            <div>
                <div class="col-sm-6 prm-valign">
                    <p>Coverage</p>
                </div><!--
             --><div class="col-sm-4 prm-valign text-right prm-form-elem">
                    <input class="form-control prm-text-input" ng-value="cmCtrl.getCoverage('G3')" readonly>
                </div><!--
             --><div class="col-sm-2 prm-valign prm-form-elem">
                    <button class="btn btn-default prm-icon-btn prm-icon-btn-ruler"
                            ng-mouseenter="cmCtrl.selectGleasonPatterns('G3', true)"
                            ng-mouseleave="cmCtrl.selectGleasonPatterns('G3', false)"
                            ng-click="cmCtrl.gleasonHighlightSwitch('G3')"
                            ng-disabled="!cmCtrl.gleasonDetailsAvailable('G3')">
                        <i class="icon-eye" ng-class="cmCtrl.isHighlighted('G3') ? 'prm-g3-active-icon' : 'prm-pale-icon'"></i>
                    </button>
                </div>
            </div>
            <div class="prm-label-elem">
                <label>Gleason Pattern 4</label>
            </div>
            <div>
                <div class="col-sm-6 prm-valign">
                    <p>Coverage</p>
                </div><!--
             --><div class="col-sm-4 prm-valign text-right prm-form-elem">
                    <input class="form-control prm-text-input" ng-value="cmCtrl.getCoverage('G4')" readonly>
                </div><!--
             --><div class="col-sm-2 prm-valign prm-form-elem">
                    <button class="btn btn-default prm-icon-btn prm-icon-btn-ruler"
                            ng-mouseenter="cmCtrl.selectGleasonPatterns('G4', true)"
                            ng-mouseleave="cmCtrl.selectGleasonPatterns('G4', false)"
                            ng-click="cmCtrl.gleasonHighlightSwitch('G4')"
                            ng-disabled="!cmCtrl.gleasonDetailsAvailable('G4')">
                        <i class="icon-eye" ng-class="cmCtrl.isHighlighted('G4') ? 'prm-g4-active-icon' : 'prm-pale-icon'"></i>
                    </button>
                </div>
                </div>
            <div class="prm-label-elem">
                <label>Gleason Pattern 5</label>
            </div>
            <div>
                <div class="col-sm-6 prm-valign">
                    <p>Coverage</p>
                </div><!--
             --><div class="col-sm-4 prm-valign text-right prm-form-elem">
                    <input class="form-control prm-text-input" ng-value="cmCtrl.getCoverage('G5')" readonly>
                </div><!--
             --><div class="col-sm-2 prm-valign prm-form-elem">
                    <button class="btn btn-default prm-icon-btn prm-icon-btn-ruler"
                            ng-mouseenter="cmCtrl.selectGleasonPatterns('G5', true)"
                            ng-mouseleave="cmCtrl.selectGleasonPatterns('G5', false)"
                            ng-click="cmCtrl.gleasonHighlightSwitch('G5')"
                            ng-disabled="!cmCtrl.gleasonDetailsAvailable('G5')">
                        <i class="icon-eye" ng-class="cmCtrl.isHighlighted('G5') ? 'prm-g5-active-icon' : 'prm-pale-icon'"></i>
                    </button>
                </div>
            </div>
        </div>
    </fieldset>
    <fieldset ng-show="cmCtrl.containsCribriformPattern()">
        <legend class="prm-legend text-left">cribriform pattern</legend>
        <div class="form-group row">
            <div class="col-sm-9 prm-valign prm-label-elem">
                <label>Nucler grade (size)</label>
            </div><!--
         --><div class="col-sm-3 prm-valign prm-form-elem">
                <select class="form-control  prm-text-input"
                        ng-model="cmCtrl.nuclear_grade_size">
                    <option value="" selected disabled></option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-9 prm-valign prm-label-elem">
                <label>Intraluminal acinar differentiation grade</label>
            </div><!--
         --><div class="col-sm-3 prm-valign prm-form-elem">
                <select class="form-control  prm-text-input"
                        ng-model="cmCtrl.intraluminal_acinar_differentiation_grade">
                    <option value="" selected disabled></option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                </select>
            </div>
        </div>
        <div class="checkbox">
            <label>
                <input type="checkbox" ng-model="cmCtrl.intraluminal_secretions"
                       ng-disabled="cmCtrl.isReadOnly()"> Intraluminal secretions
            </label>
        </div>
        <div class="checkbox">
            <label>
                <input type="checkbox" ng-model="cmCtrl.central_maturation"
                       ng-disabled="cmCtrl.isReadOnly()"> Central maturation
            </label>
        </div>
        <div class="form-group row">
            <div class="col-sm-12 prm-label-elem">
                <label>Extra-cribriform Gleason score</label>
            </div>
            <div class="col-sm-12 prm-form-elem">
                <select class="form-control  prm-text-input"
                        ng-model="cmCtrl.extra_cribriform_gleason_score">
                    <option value="" selected disabled></option>
                    <option>6</option>
                    <option>3+4/4+3</option>
                    <option>3+5/4+4/5+3</option>
                    <option>4+5/5+4</option>
                    <option>10</option>
                </select>
            </div>
        </div>
    </fieldset>
    <fieldset>
        <legend class="prm-legend text-left">stroma</legend>
        <div class="form-group row">
            <div class="col-sm-9 prm-valign prm-label-elem">
                <label>Predominant RSG</label>
            </div><!--
         --><div class="col-sm-3 prm-valign prm-form-elem">
                <select class="form-control  prm-text-input" ng-model="cmCtrl.predominant_rsg">
                    <option value="" selected disabled></option>
                    <option>0</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-9 prm-valign prm-label-elem">
                <label>Highest RSG</label>
            </div><!--
         --><div class="col-sm-3 prm-valign prm-form-elem">
                <select class="form-control  prm-text-input" ng-model="cmCtrl.highest_rsg">
                    <option value="" selected disabled></option>
                    <option>0</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-9 prm-valign prm-label-elem">
                <label>RSG within highest grade area</label>
            </div><!--
         --><div class="col-sm-3 prm-valign prm-form-elem">
                <select class="form-control  prm-text-input" ng-model="cmCtrl.rsg_within_highest_grade_area">
                    <option value="" selected disabled></option>
                    <option>0</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-9 prm-valign prm-label-elem">
                <label>RSG in area of cribriform morphology</label>
            </div><!--
         --><div class="col-sm-3 prm-valign prm-form-elem">
                <select class="form-control  prm-text-input" ng-model="cmCtrl.rsg_in_area_of_cribriform_morphology">
                    <option value="" selected disabled></option>
                    <option>0</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                </select>
            </div>
        </div>
    </fieldset>
    <fieldset>
        <legend class="prm-legend text-left">other</legend>
        <div class="checkbox">
            <label>
                <input type="checkbox" ng-model="cmCtrl.perineural_invasion"
                       ng-disabled="cmCtrl.isReadOnly()"> Perineural Invasion
            </label>
        </div>
        <div class="checkbox">
            <label>
                <input type="checkbox" ng-model="cmCtrl.perineural_growth_with_cribriform_patterns"
                       ng-disabled="cmCtrl.isReadOnly()"> Perineural growth with cribriform patterns
            </label>
        </div>
        <div class="checkbox">
            <label>
                <input type="checkbox" ng-model="cmCtrl.extraprostatic_extension"
                       ng-disabled="cmCtrl.isReadOnly()"> Extrapostatic extension
            </label>
        </div>
    </fieldset>
</div>